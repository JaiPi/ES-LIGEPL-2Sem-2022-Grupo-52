<!DOCTYPE HTML>
<html lang="pt">
<head>
<!-- Generated by javadoc (17) -->
<title>Source code</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="source: module: org.jfree.chart, package: org.jfree.chart.plot, class: CrosshairState">
<meta name="generator" content="javadoc/SourceToHTMLConverter">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body class="source-page">
<main role="main">
<div class="source-container">
<pre><span class="source-line-no">001</span><span id="line-1">/* ===========================================================</span>
<span class="source-line-no">002</span><span id="line-2"> * JFreeChart : a free chart library for the Java(tm) platform</span>
<span class="source-line-no">003</span><span id="line-3"> * ===========================================================</span>
<span class="source-line-no">004</span><span id="line-4"> *</span>
<span class="source-line-no">005</span><span id="line-5"> * (C) Copyright 2000-2022, by David Gilbert and Contributors.</span>
<span class="source-line-no">006</span><span id="line-6"> *</span>
<span class="source-line-no">007</span><span id="line-7"> * Project Info:  http://www.jfree.org/jfreechart/index.html</span>
<span class="source-line-no">008</span><span id="line-8"> *</span>
<span class="source-line-no">009</span><span id="line-9"> * This library is free software; you can redistribute it and/or modify it</span>
<span class="source-line-no">010</span><span id="line-10"> * under the terms of the GNU Lesser General Public License as published by</span>
<span class="source-line-no">011</span><span id="line-11"> * the Free Software Foundation; either version 2.1 of the License, or</span>
<span class="source-line-no">012</span><span id="line-12"> * (at your option) any later version.</span>
<span class="source-line-no">013</span><span id="line-13"> *</span>
<span class="source-line-no">014</span><span id="line-14"> * This library is distributed in the hope that it will be useful, but</span>
<span class="source-line-no">015</span><span id="line-15"> * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY</span>
<span class="source-line-no">016</span><span id="line-16"> * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public</span>
<span class="source-line-no">017</span><span id="line-17"> * License for more details.</span>
<span class="source-line-no">018</span><span id="line-18"> *</span>
<span class="source-line-no">019</span><span id="line-19"> * You should have received a copy of the GNU Lesser General Public</span>
<span class="source-line-no">020</span><span id="line-20"> * License along with this library; if not, write to the Free Software</span>
<span class="source-line-no">021</span><span id="line-21"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301,</span>
<span class="source-line-no">022</span><span id="line-22"> * USA.</span>
<span class="source-line-no">023</span><span id="line-23"> *</span>
<span class="source-line-no">024</span><span id="line-24"> * [Oracle and Java are registered trademarks of Oracle and/or its affiliates. </span>
<span class="source-line-no">025</span><span id="line-25"> * Other names may be trademarks of their respective owners.]</span>
<span class="source-line-no">026</span><span id="line-26"> *</span>
<span class="source-line-no">027</span><span id="line-27"> * -------------------</span>
<span class="source-line-no">028</span><span id="line-28"> * CrosshairState.java</span>
<span class="source-line-no">029</span><span id="line-29"> * -------------------</span>
<span class="source-line-no">030</span><span id="line-30"> * (C) Copyright 2002-2022, by David Gilbert.</span>
<span class="source-line-no">031</span><span id="line-31"> *</span>
<span class="source-line-no">032</span><span id="line-32"> * Original Author:  David Gilbert;</span>
<span class="source-line-no">033</span><span id="line-33"> * Contributor(s):   -;</span>
<span class="source-line-no">034</span><span id="line-34"> *</span>
<span class="source-line-no">035</span><span id="line-35"> */</span>
<span class="source-line-no">036</span><span id="line-36"></span>
<span class="source-line-no">037</span><span id="line-37">package org.jfree.chart.plot;</span>
<span class="source-line-no">038</span><span id="line-38"></span>
<span class="source-line-no">039</span><span id="line-39">import java.awt.geom.Point2D;</span>
<span class="source-line-no">040</span><span id="line-40">import org.jfree.chart.internal.Args;</span>
<span class="source-line-no">041</span><span id="line-41"></span>
<span class="source-line-no">042</span><span id="line-42">/**</span>
<span class="source-line-no">043</span><span id="line-43"> * Maintains state information about crosshairs on a plot between successive</span>
<span class="source-line-no">044</span><span id="line-44"> * calls to the renderer's draw method.  This class is used internally by</span>
<span class="source-line-no">045</span><span id="line-45"> * JFreeChart - it is not intended for external use.</span>
<span class="source-line-no">046</span><span id="line-46"> */</span>
<span class="source-line-no">047</span><span id="line-47">public class CrosshairState {</span>
<span class="source-line-no">048</span><span id="line-48"></span>
<span class="source-line-no">049</span><span id="line-49">    /**</span>
<span class="source-line-no">050</span><span id="line-50">     * A flag that controls whether the distance is calculated in data space</span>
<span class="source-line-no">051</span><span id="line-51">     * or Java2D space.</span>
<span class="source-line-no">052</span><span id="line-52">     */</span>
<span class="source-line-no">053</span><span id="line-53">    private boolean calculateDistanceInDataSpace = false;</span>
<span class="source-line-no">054</span><span id="line-54"></span>
<span class="source-line-no">055</span><span id="line-55">    /** The x-value (in data space) for the anchor point. */</span>
<span class="source-line-no">056</span><span id="line-56">    private double anchorX;</span>
<span class="source-line-no">057</span><span id="line-57"></span>
<span class="source-line-no">058</span><span id="line-58">    /** The y-value (in data space) for the anchor point. */</span>
<span class="source-line-no">059</span><span id="line-59">    private double anchorY;</span>
<span class="source-line-no">060</span><span id="line-60"></span>
<span class="source-line-no">061</span><span id="line-61">    /** The anchor point in Java2D space - if null, don't update crosshair. */</span>
<span class="source-line-no">062</span><span id="line-62">    private Point2D anchor;</span>
<span class="source-line-no">063</span><span id="line-63"></span>
<span class="source-line-no">064</span><span id="line-64">    /** The x-value for the current crosshair point. */</span>
<span class="source-line-no">065</span><span id="line-65">    private double crosshairX;</span>
<span class="source-line-no">066</span><span id="line-66"></span>
<span class="source-line-no">067</span><span id="line-67">    /** The y-value for the current crosshair point. */</span>
<span class="source-line-no">068</span><span id="line-68">    private double crosshairY;</span>
<span class="source-line-no">069</span><span id="line-69"></span>
<span class="source-line-no">070</span><span id="line-70">    /**</span>
<span class="source-line-no">071</span><span id="line-71">     * The dataset index that the crosshair point relates to (this determines</span>
<span class="source-line-no">072</span><span id="line-72">     * the axes that the crosshairs will be plotted against).</span>
<span class="source-line-no">073</span><span id="line-73">     */</span>
<span class="source-line-no">074</span><span id="line-74">    private int datasetIndex;</span>
<span class="source-line-no">075</span><span id="line-75"></span>
<span class="source-line-no">076</span><span id="line-76">    /**</span>
<span class="source-line-no">077</span><span id="line-77">     * The smallest distance (so far) between the anchor point and a data</span>
<span class="source-line-no">078</span><span id="line-78">     * point.</span>
<span class="source-line-no">079</span><span id="line-79">     */</span>
<span class="source-line-no">080</span><span id="line-80">    private double distance;</span>
<span class="source-line-no">081</span><span id="line-81"></span>
<span class="source-line-no">082</span><span id="line-82">    /**</span>
<span class="source-line-no">083</span><span id="line-83">     * Creates a new {@code crosshairState} instance that calculates</span>
<span class="source-line-no">084</span><span id="line-84">     * distance in Java2D space.</span>
<span class="source-line-no">085</span><span id="line-85">     */</span>
<span class="source-line-no">086</span><span id="line-86">    public CrosshairState() {</span>
<span class="source-line-no">087</span><span id="line-87">        this(false);</span>
<span class="source-line-no">088</span><span id="line-88">    }</span>
<span class="source-line-no">089</span><span id="line-89"></span>
<span class="source-line-no">090</span><span id="line-90">    /**</span>
<span class="source-line-no">091</span><span id="line-91">     * Creates a new {@code crosshairState} instance.  Determination of the</span>
<span class="source-line-no">092</span><span id="line-92">     * data point nearest the anchor point can be calculated in either</span>
<span class="source-line-no">093</span><span id="line-93">     * dataspace or Java2D space.  The former should only be used for charts</span>
<span class="source-line-no">094</span><span id="line-94">     * with a single set of axes.</span>
<span class="source-line-no">095</span><span id="line-95">     *</span>
<span class="source-line-no">096</span><span id="line-96">     * @param calculateDistanceInDataSpace  a flag that controls whether the</span>
<span class="source-line-no">097</span><span id="line-97">     *                                      distance is calculated in data</span>
<span class="source-line-no">098</span><span id="line-98">     *                                      space or Java2D space.</span>
<span class="source-line-no">099</span><span id="line-99">     */</span>
<span class="source-line-no">100</span><span id="line-100">    public CrosshairState(boolean calculateDistanceInDataSpace) {</span>
<span class="source-line-no">101</span><span id="line-101">        this.calculateDistanceInDataSpace = calculateDistanceInDataSpace;</span>
<span class="source-line-no">102</span><span id="line-102">    }</span>
<span class="source-line-no">103</span><span id="line-103"></span>
<span class="source-line-no">104</span><span id="line-104">    /**</span>
<span class="source-line-no">105</span><span id="line-105">     * Returns the distance between the anchor point and the current crosshair</span>
<span class="source-line-no">106</span><span id="line-106">     * point.</span>
<span class="source-line-no">107</span><span id="line-107">     *</span>
<span class="source-line-no">108</span><span id="line-108">     * @return The distance.</span>
<span class="source-line-no">109</span><span id="line-109">     *</span>
<span class="source-line-no">110</span><span id="line-110">     * @see #setCrosshairDistance(double)</span>
<span class="source-line-no">111</span><span id="line-111">     */</span>
<span class="source-line-no">112</span><span id="line-112">    public double getCrosshairDistance() {</span>
<span class="source-line-no">113</span><span id="line-113">        return this.distance;</span>
<span class="source-line-no">114</span><span id="line-114">    }</span>
<span class="source-line-no">115</span><span id="line-115"></span>
<span class="source-line-no">116</span><span id="line-116">    /**</span>
<span class="source-line-no">117</span><span id="line-117">     * Sets the distance between the anchor point and the current crosshair</span>
<span class="source-line-no">118</span><span id="line-118">     * point.  As each data point is processed, its distance to the anchor</span>
<span class="source-line-no">119</span><span id="line-119">     * point is compared with this value and, if it is closer, the data point</span>
<span class="source-line-no">120</span><span id="line-120">     * becomes the new crosshair point.</span>
<span class="source-line-no">121</span><span id="line-121">     *</span>
<span class="source-line-no">122</span><span id="line-122">     * @param distance  the distance.</span>
<span class="source-line-no">123</span><span id="line-123">     *</span>
<span class="source-line-no">124</span><span id="line-124">     * @see #getCrosshairDistance()</span>
<span class="source-line-no">125</span><span id="line-125">     */</span>
<span class="source-line-no">126</span><span id="line-126">    public void setCrosshairDistance(double distance) {</span>
<span class="source-line-no">127</span><span id="line-127">        this.distance = distance;</span>
<span class="source-line-no">128</span><span id="line-128">    }</span>
<span class="source-line-no">129</span><span id="line-129">    </span>
<span class="source-line-no">130</span><span id="line-130">    /**</span>
<span class="source-line-no">131</span><span id="line-131">     * Updates the crosshair point.</span>
<span class="source-line-no">132</span><span id="line-132">     * </span>
<span class="source-line-no">133</span><span id="line-133">     * @param x  the x-value.</span>
<span class="source-line-no">134</span><span id="line-134">     * @param y  the y-value.</span>
<span class="source-line-no">135</span><span id="line-135">     * @param datasetIndex  the dataset index.</span>
<span class="source-line-no">136</span><span id="line-136">     * @param transX  the x-value in Java2D space.</span>
<span class="source-line-no">137</span><span id="line-137">     * @param transY  the y-value in Java2D space.</span>
<span class="source-line-no">138</span><span id="line-138">     * @param orientation  the plot orientation ({@code null} not permitted).</span>
<span class="source-line-no">139</span><span id="line-139">     */</span>
<span class="source-line-no">140</span><span id="line-140">    public void updateCrosshairPoint(double x, double y, int datasetIndex,</span>
<span class="source-line-no">141</span><span id="line-141">            double transX, double transY, PlotOrientation orientation) {</span>
<span class="source-line-no">142</span><span id="line-142"></span>
<span class="source-line-no">143</span><span id="line-143">        if (this.anchor != null) {</span>
<span class="source-line-no">144</span><span id="line-144">            double d = 0.0;</span>
<span class="source-line-no">145</span><span id="line-145">            if (this.calculateDistanceInDataSpace) { </span>
<span class="source-line-no">146</span><span id="line-146">                d = (x - this.anchorX) * (x - this.anchorX)</span>
<span class="source-line-no">147</span><span id="line-147">                  + (y - this.anchorY) * (y - this.anchorY);</span>
<span class="source-line-no">148</span><span id="line-148">            }</span>
<span class="source-line-no">149</span><span id="line-149">            else {</span>
<span class="source-line-no">150</span><span id="line-150">                // anchor point is in Java2D coordinates</span>
<span class="source-line-no">151</span><span id="line-151">                double xx = this.anchor.getX();</span>
<span class="source-line-no">152</span><span id="line-152">                double yy = this.anchor.getY();</span>
<span class="source-line-no">153</span><span id="line-153">                if (orientation == PlotOrientation.HORIZONTAL) {</span>
<span class="source-line-no">154</span><span id="line-154">                    double temp = yy;</span>
<span class="source-line-no">155</span><span id="line-155">                    yy = xx;</span>
<span class="source-line-no">156</span><span id="line-156">                    xx = temp;</span>
<span class="source-line-no">157</span><span id="line-157">                }</span>
<span class="source-line-no">158</span><span id="line-158">                d = (transX - xx) * (transX - xx)</span>
<span class="source-line-no">159</span><span id="line-159">                    + (transY - yy) * (transY - yy);</span>
<span class="source-line-no">160</span><span id="line-160">            }</span>
<span class="source-line-no">161</span><span id="line-161"></span>
<span class="source-line-no">162</span><span id="line-162">            if (d &lt; this.distance) {</span>
<span class="source-line-no">163</span><span id="line-163">                this.crosshairX = x;</span>
<span class="source-line-no">164</span><span id="line-164">                this.crosshairY = y;</span>
<span class="source-line-no">165</span><span id="line-165">                this.datasetIndex = datasetIndex;</span>
<span class="source-line-no">166</span><span id="line-166">                this.distance = d;</span>
<span class="source-line-no">167</span><span id="line-167">            }</span>
<span class="source-line-no">168</span><span id="line-168">        }</span>
<span class="source-line-no">169</span><span id="line-169"></span>
<span class="source-line-no">170</span><span id="line-170">    }</span>
<span class="source-line-no">171</span><span id="line-171">    </span>
<span class="source-line-no">172</span><span id="line-172">    /**</span>
<span class="source-line-no">173</span><span id="line-173">     * Checks to see if the specified data point is the closest to the</span>
<span class="source-line-no">174</span><span id="line-174">     * anchor point and, if yes, updates the current state.</span>
<span class="source-line-no">175</span><span id="line-175">     * </span>
<span class="source-line-no">176</span><span id="line-176">     * @param x  the x-value.</span>
<span class="source-line-no">177</span><span id="line-177">     * @param transX  the x-value in Java2D space.</span>
<span class="source-line-no">178</span><span id="line-178">     * @param datasetIndex  the dataset index.</span>
<span class="source-line-no">179</span><span id="line-179">     */</span>
<span class="source-line-no">180</span><span id="line-180">    public void updateCrosshairX(double x, double transX, int datasetIndex) {</span>
<span class="source-line-no">181</span><span id="line-181">        if (this.anchor == null) {</span>
<span class="source-line-no">182</span><span id="line-182">            return;</span>
<span class="source-line-no">183</span><span id="line-183">        }</span>
<span class="source-line-no">184</span><span id="line-184">        double d = Math.abs(transX - this.anchor.getX());</span>
<span class="source-line-no">185</span><span id="line-185">        if (d &lt; this.distance) {</span>
<span class="source-line-no">186</span><span id="line-186">            this.crosshairX = x;</span>
<span class="source-line-no">187</span><span id="line-187">            this.datasetIndex = datasetIndex;</span>
<span class="source-line-no">188</span><span id="line-188">            this.distance = d;</span>
<span class="source-line-no">189</span><span id="line-189">        }        </span>
<span class="source-line-no">190</span><span id="line-190">    }</span>
<span class="source-line-no">191</span><span id="line-191"></span>
<span class="source-line-no">192</span><span id="line-192">    /**</span>
<span class="source-line-no">193</span><span id="line-193">     * Evaluates a y-value and if it is the closest to the anchor y-value it</span>
<span class="source-line-no">194</span><span id="line-194">     * becomes the new crosshair value.</span>
<span class="source-line-no">195</span><span id="line-195">     * &lt;P&gt;</span>
<span class="source-line-no">196</span><span id="line-196">     * Used in cases where only the y-axis is numerical.</span>
<span class="source-line-no">197</span><span id="line-197">     *</span>
<span class="source-line-no">198</span><span id="line-198">     * @param candidateY  y position of the candidate for the new crosshair</span>
<span class="source-line-no">199</span><span id="line-199">     *                    point.</span>
<span class="source-line-no">200</span><span id="line-200">     * @param transY  the y-value in Java2D space.</span>
<span class="source-line-no">201</span><span id="line-201">     * @param datasetIndex  the index of the range axis for this y-value.</span>
<span class="source-line-no">202</span><span id="line-202">     */</span>
<span class="source-line-no">203</span><span id="line-203">    public void updateCrosshairY(double candidateY, double transY, int datasetIndex) {</span>
<span class="source-line-no">204</span><span id="line-204">        if (this.anchor == null) {</span>
<span class="source-line-no">205</span><span id="line-205">            return;</span>
<span class="source-line-no">206</span><span id="line-206">        }</span>
<span class="source-line-no">207</span><span id="line-207">        double d = Math.abs(transY - this.anchor.getY());</span>
<span class="source-line-no">208</span><span id="line-208">        if (d &lt; this.distance) {</span>
<span class="source-line-no">209</span><span id="line-209">            this.crosshairY = candidateY;</span>
<span class="source-line-no">210</span><span id="line-210">            this.datasetIndex = datasetIndex;</span>
<span class="source-line-no">211</span><span id="line-211">            this.distance = d;</span>
<span class="source-line-no">212</span><span id="line-212">        }</span>
<span class="source-line-no">213</span><span id="line-213"></span>
<span class="source-line-no">214</span><span id="line-214">    }</span>
<span class="source-line-no">215</span><span id="line-215"></span>
<span class="source-line-no">216</span><span id="line-216">    /**</span>
<span class="source-line-no">217</span><span id="line-217">     * Returns the anchor point.</span>
<span class="source-line-no">218</span><span id="line-218">     *</span>
<span class="source-line-no">219</span><span id="line-219">     * @return The anchor point.</span>
<span class="source-line-no">220</span><span id="line-220">     *</span>
<span class="source-line-no">221</span><span id="line-221">     * @see #setAnchor(Point2D)</span>
<span class="source-line-no">222</span><span id="line-222">     */</span>
<span class="source-line-no">223</span><span id="line-223">    public Point2D getAnchor() {</span>
<span class="source-line-no">224</span><span id="line-224">        return this.anchor;</span>
<span class="source-line-no">225</span><span id="line-225">    }</span>
<span class="source-line-no">226</span><span id="line-226"></span>
<span class="source-line-no">227</span><span id="line-227">    /**</span>
<span class="source-line-no">228</span><span id="line-228">     * Sets the anchor point.  This is usually the mouse click point in a chart</span>
<span class="source-line-no">229</span><span id="line-229">     * panel, and the crosshair point will often be the data item that is</span>
<span class="source-line-no">230</span><span id="line-230">     * closest to the anchor point.</span>
<span class="source-line-no">231</span><span id="line-231">     * &lt;br&gt;&lt;br&gt;</span>
<span class="source-line-no">232</span><span id="line-232">     * Note that the x and y coordinates (in data space) are not updated by</span>
<span class="source-line-no">233</span><span id="line-233">     * this method - the caller is responsible for ensuring that this happens</span>
<span class="source-line-no">234</span><span id="line-234">     * in sync.</span>
<span class="source-line-no">235</span><span id="line-235">     *</span>
<span class="source-line-no">236</span><span id="line-236">     * @param anchor  the anchor point ({@code null} permitted).</span>
<span class="source-line-no">237</span><span id="line-237">     *</span>
<span class="source-line-no">238</span><span id="line-238">     * @see #getAnchor()</span>
<span class="source-line-no">239</span><span id="line-239">     */</span>
<span class="source-line-no">240</span><span id="line-240">    public void setAnchor(Point2D anchor) {</span>
<span class="source-line-no">241</span><span id="line-241">        this.anchor = anchor;</span>
<span class="source-line-no">242</span><span id="line-242">    }</span>
<span class="source-line-no">243</span><span id="line-243"></span>
<span class="source-line-no">244</span><span id="line-244">    /**</span>
<span class="source-line-no">245</span><span id="line-245">     * Returns the x-coordinate (in data space) for the anchor point.</span>
<span class="source-line-no">246</span><span id="line-246">     *</span>
<span class="source-line-no">247</span><span id="line-247">     * @return The x-coordinate of the anchor point.</span>
<span class="source-line-no">248</span><span id="line-248">     */</span>
<span class="source-line-no">249</span><span id="line-249">    public double getAnchorX() {</span>
<span class="source-line-no">250</span><span id="line-250">        return this.anchorX;</span>
<span class="source-line-no">251</span><span id="line-251">    }</span>
<span class="source-line-no">252</span><span id="line-252"></span>
<span class="source-line-no">253</span><span id="line-253">    /**</span>
<span class="source-line-no">254</span><span id="line-254">     * Sets the x-coordinate (in data space) for the anchor point.  Note that</span>
<span class="source-line-no">255</span><span id="line-255">     * this does NOT update the anchor itself - the caller is responsible for</span>
<span class="source-line-no">256</span><span id="line-256">     * ensuring this is done in sync.</span>
<span class="source-line-no">257</span><span id="line-257">     *</span>
<span class="source-line-no">258</span><span id="line-258">     * @param x  the x-coordinate.</span>
<span class="source-line-no">259</span><span id="line-259">     */</span>
<span class="source-line-no">260</span><span id="line-260">    public void setAnchorX(double x) {</span>
<span class="source-line-no">261</span><span id="line-261">        this.anchorX = x;</span>
<span class="source-line-no">262</span><span id="line-262">    }</span>
<span class="source-line-no">263</span><span id="line-263"></span>
<span class="source-line-no">264</span><span id="line-264">    /**</span>
<span class="source-line-no">265</span><span id="line-265">     * Returns the y-coordinate (in data space) for the anchor point.</span>
<span class="source-line-no">266</span><span id="line-266">     *</span>
<span class="source-line-no">267</span><span id="line-267">     * @return The y-coordinate of teh anchor point.</span>
<span class="source-line-no">268</span><span id="line-268">     */</span>
<span class="source-line-no">269</span><span id="line-269">    public double getAnchorY() {</span>
<span class="source-line-no">270</span><span id="line-270">        return this.anchorY;</span>
<span class="source-line-no">271</span><span id="line-271">    }</span>
<span class="source-line-no">272</span><span id="line-272"></span>
<span class="source-line-no">273</span><span id="line-273">    /**</span>
<span class="source-line-no">274</span><span id="line-274">     * Sets the y-coordinate (in data space) for the anchor point.  Note that</span>
<span class="source-line-no">275</span><span id="line-275">     * this does NOT update the anchor itself - the caller is responsible for</span>
<span class="source-line-no">276</span><span id="line-276">     * ensuring this is done in sync.</span>
<span class="source-line-no">277</span><span id="line-277">     *</span>
<span class="source-line-no">278</span><span id="line-278">     * @param y  the y-coordinate.</span>
<span class="source-line-no">279</span><span id="line-279">     */</span>
<span class="source-line-no">280</span><span id="line-280">    public void setAnchorY(double y) {</span>
<span class="source-line-no">281</span><span id="line-281">        this.anchorY = y;</span>
<span class="source-line-no">282</span><span id="line-282">    }</span>
<span class="source-line-no">283</span><span id="line-283"></span>
<span class="source-line-no">284</span><span id="line-284">    /**</span>
<span class="source-line-no">285</span><span id="line-285">     * Get the x-value for the crosshair point.</span>
<span class="source-line-no">286</span><span id="line-286">     *</span>
<span class="source-line-no">287</span><span id="line-287">     * @return The x position of the crosshair point.</span>
<span class="source-line-no">288</span><span id="line-288">     *</span>
<span class="source-line-no">289</span><span id="line-289">     * @see #setCrosshairX(double)</span>
<span class="source-line-no">290</span><span id="line-290">     */</span>
<span class="source-line-no">291</span><span id="line-291">    public double getCrosshairX() {</span>
<span class="source-line-no">292</span><span id="line-292">        return this.crosshairX;</span>
<span class="source-line-no">293</span><span id="line-293">    }</span>
<span class="source-line-no">294</span><span id="line-294"></span>
<span class="source-line-no">295</span><span id="line-295">    /**</span>
<span class="source-line-no">296</span><span id="line-296">     * Sets the x coordinate for the crosshair.  This is the coordinate in data</span>
<span class="source-line-no">297</span><span id="line-297">     * space measured against the domain axis.</span>
<span class="source-line-no">298</span><span id="line-298">     *</span>
<span class="source-line-no">299</span><span id="line-299">     * @param x the coordinate.</span>
<span class="source-line-no">300</span><span id="line-300">     *</span>
<span class="source-line-no">301</span><span id="line-301">     * @see #getCrosshairX()</span>
<span class="source-line-no">302</span><span id="line-302">     * @see #setCrosshairY(double)</span>
<span class="source-line-no">303</span><span id="line-303">     * @see #updateCrosshairPoint(double, double, int, double, double,</span>
<span class="source-line-no">304</span><span id="line-304">     * PlotOrientation)</span>
<span class="source-line-no">305</span><span id="line-305">     */</span>
<span class="source-line-no">306</span><span id="line-306">    public void setCrosshairX(double x) {</span>
<span class="source-line-no">307</span><span id="line-307">        this.crosshairX = x;</span>
<span class="source-line-no">308</span><span id="line-308">    }</span>
<span class="source-line-no">309</span><span id="line-309"></span>
<span class="source-line-no">310</span><span id="line-310">    /**</span>
<span class="source-line-no">311</span><span id="line-311">     * Get the y-value for the crosshair point.  This is the coordinate in data</span>
<span class="source-line-no">312</span><span id="line-312">     * space measured against the range axis.</span>
<span class="source-line-no">313</span><span id="line-313">     *</span>
<span class="source-line-no">314</span><span id="line-314">     * @return The y position of the crosshair point.</span>
<span class="source-line-no">315</span><span id="line-315">     *</span>
<span class="source-line-no">316</span><span id="line-316">     * @see #setCrosshairY(double)</span>
<span class="source-line-no">317</span><span id="line-317">     */</span>
<span class="source-line-no">318</span><span id="line-318">    public double getCrosshairY() {</span>
<span class="source-line-no">319</span><span id="line-319">        return this.crosshairY;</span>
<span class="source-line-no">320</span><span id="line-320">    }</span>
<span class="source-line-no">321</span><span id="line-321"></span>
<span class="source-line-no">322</span><span id="line-322">    /**</span>
<span class="source-line-no">323</span><span id="line-323">     * Sets the y coordinate for the crosshair.</span>
<span class="source-line-no">324</span><span id="line-324">     *</span>
<span class="source-line-no">325</span><span id="line-325">     * @param y  the y coordinate.</span>
<span class="source-line-no">326</span><span id="line-326">     *</span>
<span class="source-line-no">327</span><span id="line-327">     * @see #getCrosshairY()</span>
<span class="source-line-no">328</span><span id="line-328">     * @see #setCrosshairX(double)</span>
<span class="source-line-no">329</span><span id="line-329">     * @see #updateCrosshairPoint(double, double, int, double, double,</span>
<span class="source-line-no">330</span><span id="line-330">     * PlotOrientation)</span>
<span class="source-line-no">331</span><span id="line-331">     */</span>
<span class="source-line-no">332</span><span id="line-332">    public void setCrosshairY(double y) {</span>
<span class="source-line-no">333</span><span id="line-333">        this.crosshairY = y;</span>
<span class="source-line-no">334</span><span id="line-334">    }</span>
<span class="source-line-no">335</span><span id="line-335"></span>
<span class="source-line-no">336</span><span id="line-336">    /**</span>
<span class="source-line-no">337</span><span id="line-337">     * Returns the dataset index that the crosshair values relate to.  The</span>
<span class="source-line-no">338</span><span id="line-338">     * dataset is mapped to specific axes, and this is how the crosshairs are</span>
<span class="source-line-no">339</span><span id="line-339">     * mapped also.</span>
<span class="source-line-no">340</span><span id="line-340">     *</span>
<span class="source-line-no">341</span><span id="line-341">     * @return The dataset index.</span>
<span class="source-line-no">342</span><span id="line-342">     *</span>
<span class="source-line-no">343</span><span id="line-343">     * @see #setDatasetIndex(int)</span>
<span class="source-line-no">344</span><span id="line-344">     */</span>
<span class="source-line-no">345</span><span id="line-345">    public int getDatasetIndex() {</span>
<span class="source-line-no">346</span><span id="line-346">        return this.datasetIndex;</span>
<span class="source-line-no">347</span><span id="line-347">    }</span>
<span class="source-line-no">348</span><span id="line-348"></span>
<span class="source-line-no">349</span><span id="line-349">    /**</span>
<span class="source-line-no">350</span><span id="line-350">     * Sets the dataset index that the current crosshair values relate to.</span>
<span class="source-line-no">351</span><span id="line-351">     *</span>
<span class="source-line-no">352</span><span id="line-352">     * @param index  the dataset index.</span>
<span class="source-line-no">353</span><span id="line-353">     *</span>
<span class="source-line-no">354</span><span id="line-354">     * @see #getDatasetIndex()</span>
<span class="source-line-no">355</span><span id="line-355">     */</span>
<span class="source-line-no">356</span><span id="line-356">    public void setDatasetIndex(int index) {</span>
<span class="source-line-no">357</span><span id="line-357">        this.datasetIndex = index;</span>
<span class="source-line-no">358</span><span id="line-358">    }</span>
<span class="source-line-no">359</span><span id="line-359"></span>
<span class="source-line-no">360</span><span id="line-360">        /**</span>
<span class="source-line-no">361</span><span id="line-361">         * Considers the current (x, y) coordinate and updates the crosshair point if it meets the criteria (usually means the (x, y) coordinate is the closest to the anchor point so far).</span>
<span class="source-line-no">362</span><span id="line-362">         * @param x   the x-value (in data space).</span>
<span class="source-line-no">363</span><span id="line-363">         * @param y   the y-value (in data space).</span>
<span class="source-line-no">364</span><span id="line-364">         * @param datasetIndex   the index of the dataset for the point.</span>
<span class="source-line-no">365</span><span id="line-365">         * @param transX   the x-value translated to Java2D space.</span>
<span class="source-line-no">366</span><span id="line-366">         * @param transY   the y-value translated to Java2D space.</span>
<span class="source-line-no">367</span><span id="line-367">         * @param orientation   the plot orientation ( {@code  null}  not permitted).</span>
<span class="source-line-no">368</span><span id="line-368">         * @param plot</span>
<span class="source-line-no">369</span><span id="line-369">         */</span>
<span class="source-line-no">370</span><span id="line-370">        public void updateCrosshairValues(double x, double y, int datasetIndex, double transX, double transY,</span>
<span class="source-line-no">371</span><span id="line-371">                        PlotOrientation orientation, XYPlot plot) {</span>
<span class="source-line-no">372</span><span id="line-372">                Args.nullNotPermitted(orientation, "orientation");</span>
<span class="source-line-no">373</span><span id="line-373">                if (this != null) {</span>
<span class="source-line-no">374</span><span id="line-374">                        if (plot.isDomainCrosshairLockedOnData()) {</span>
<span class="source-line-no">375</span><span id="line-375">                                if (plot.isRangeCrosshairLockedOnData()) {</span>
<span class="source-line-no">376</span><span id="line-376">                                        updateCrosshairPoint(x, y, datasetIndex, transX, transY, orientation);</span>
<span class="source-line-no">377</span><span id="line-377">                                } else {</span>
<span class="source-line-no">378</span><span id="line-378">                                        updateCrosshairX(x, transX, datasetIndex);</span>
<span class="source-line-no">379</span><span id="line-379">                                }</span>
<span class="source-line-no">380</span><span id="line-380">                        } else {</span>
<span class="source-line-no">381</span><span id="line-381">                                if (plot.isRangeCrosshairLockedOnData()) {</span>
<span class="source-line-no">382</span><span id="line-382">                                        updateCrosshairY(y, transY, datasetIndex);</span>
<span class="source-line-no">383</span><span id="line-383">                                }</span>
<span class="source-line-no">384</span><span id="line-384">                        }</span>
<span class="source-line-no">385</span><span id="line-385">                }</span>
<span class="source-line-no">386</span><span id="line-386">        }</span>
<span class="source-line-no">387</span><span id="line-387">}</span>




























































</pre>
</div>
</main>
</body>
</html>
